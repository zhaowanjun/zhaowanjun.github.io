<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Document</title>
	<script src="../js/lib/jquery-2.1.4.js"></script>
	<script src="../js/lib/jquery.json-2.3.js"></script>
	<script>
	$(function(){
		 var pendingList = {
				 "webapp_param":{
					 "cmd":"pendingTasks",
					 "type":"",
					 "version":"1",
					 "userid":"AD域账号",
					 "child_app": "taskcenter",
					 "biz_app": "ALL"			
				},
				"biz_param":{
				     "cmd": "pendingTasks",
				   	 "userid":"AD域账号",
				   	 "userpass":"AD域密码"
				}
				
			};
		 //detail request

		 var detailRequest ={
					"webapp_param":{
						 "cmd":"detail",
						 "child_app":"taskcenter",
						 "biz_app":"NMLCGL"
					},
					"biz_param":{
				   	 "userid":"AD域账号",
				   	 "userpass":"AD域密码",
				 	 "group_id":"功能分组id",
				     "biz_djbh":"2312",
				     "cust_param":{
						 "key1":"value1",
						 "key1":"value1",
						 "key1":"value1"
					 },
					 "flow_param": {
					       "BIZ_GUID": "432A146D-23E0-5F53-192D-62E8DC3A8C93",
					       "MDL_ID": "LCGL_QXJSQ"
					  }
					}
				};
		 
		 var submitRequest ={
				  "webapp_param": {
					    "cmd": "approve",
					    "child_app": "taskcenter",
					    "biz_app": "NMLCGL"
					  },
					  "biz_param": {
					    "userid": "AD域账号",
					    "userpass": "AD域密码",
					    "flows": [
					      {
					        "cust_param": {
					          "key1": "value1"
					        },
					        "general": {//不需要传递到后台

					          "flow_id": "流程id",
					          "flow_name": "流程名称",
					          "biz_djbh": "单据编号",
					          "node_tag": "当前节点编号",
					          "node_tag_name": "当前节点名称",
					          "task_unit_name": "单位",
					          "biz_date": "日期",
					          "op_time": "提交时间",
					          "op_submit_name": "提交人",
					          "owner": "事项的属主，业务系统的用户id",
					          "summary": "业务摘要"
					        },
					        "flow_param": {
					            "FLOW_ID": "LCGL_QJSQ",
					            "NODE_TAG": "S_2",
					            "OBJ_GUID": "185FBFF2-5061-F7CB-1642-A28D670CEFAC",
					            "BIZ_MDL": "",
					            "MDL_ID": "LCGL_QXJSQ",
					            "BIZ_UNIT": "A03002003002",
					            "BIZ_DATE": "201504",
					            "BIZ_DJBH": "QJ2015040009",
					            "OP_ID": "18636852773596",
					            "BIZ_LOGIN_UNIT": "",
					            "LOOP_ID": "0",
					            "TASK_UNIT": "A03002003002",
					            "POP_ID": "1429147415064",
					            "PFLOW_ID": "",
					            "FROMFLOW_ID": ""
					          },
					        "forward_to_node": {
					          "node_id": "节点id",
					          "participator": [
					            "user1",
					            "user2"
					          ]
					        }
					      }
					    ]
					  }
					};
		 
		 var flowtraceRequest = {
					"webapp_param":{
						 "cmd":"flowTrace",
						 "child_app":"taskcenter",
						 "biz_app":"NMLCGL"
					},
					"biz_param":{
				   	 "userid":"AD域账号",
				   	 "userpass":"AD域密码",
				     "cust_param":{
						 "key1":"value1",
						 "key1":"value1",
						 "key1":"value1"
					 },
					 "general": {//不需要传递到后台

				          "flow_id": "流程id",
				          "flow_name": "流程名称",
				          "biz_djbh": "单据编号",
				          "node_tag": "当前节点编号",
				          "node_tag_name": "当前节点名称",
				          "task_unit_name": "单位",
				          "biz_date": "日期",
				          "op_time": "提交时间",
				          "op_submit_name": "提交人",
				          "owner": "事项的属主，业务系统的用户id",
				          "summary": "业务摘要"
				        },
					  "flow_param": {
				            "FLOW_ID": "LCGL_QJSQ",
				            "NODE_TAG": "S_2",
				            "OBJ_GUID": "185FBFF2-5061-F7CB-1642-A28D670CEFAC",
				            "BIZ_MDL": "",
				            "MDL_ID": "LCGL_QXJSQ",
				            "BIZ_UNIT": "A03002003002",
				            "BIZ_DATE": "201504",
				            "BIZ_DJBH": "QJ2015040009",
				            "OP_ID": "18636852773596",
				            "BIZ_LOGIN_UNIT": "",
				            "LOOP_ID": "0",
				            "TASK_UNIT": "A03002003002",
				            "POP_ID": "1429147415064",
				            "PFLOW_ID": "",
				            "FROMFLOW_ID": ""
				          },
					}
				};


		 $('#pendingList').click(function(){

				var data = $.toJSON(pendingList);

			    alert(data); 
				$.ajax(
					{
					
						type:'POST',
						url:'/EnterpriseServer/RS/tasks',
						dataType:'json',
						data:data,
					
						success:function(response,status,xhr){
							alert("成功啦");
						
						$("#json").html($.toJSON(response));
						},
						error:function(xhr,errorText,errorStatus){
						
						alert(xhr.status+errorText+xhr.statusText);
						}
					}

					);


				});

	$('#detail').click(function(){

	var data = $.toJSON(detailRequest);

	/* alert(data); */
	$.ajax(
		{
		
			type:'POST',
			url:'/EnterpriseServer/RS/tasks',
			dataType:'json',
			data:data,
		
			success:function(response,status,xhr){
				alert("成功啦");
			
			$("#json").html($.toJSON(response));
			},
			error:function(xhr,errorText,errorStatus){
			
			alert(xhr.status+errorText+xhr.statusText);
			}
		}

		);


	});
	
	$('#submit').click(function(){

		var data = $.toJSON(submitRequest);

		alert(data); 
		$.ajax(
			{
			
				type:'POST',
				url:'/EnterpriseServer/RS/tasks',
				dataType:'json',
				data:data,
			
				success:function(response,status,xhr){
					alert("成功啦");
				
				$("#json").html($.toJSON(response));
				},
				error:function(xhr,errorText,errorStatus){
				
				alert(xhr.status+errorText+xhr.statusText);
				}
			}

			);


		});
	
	$('#flowTrace').click(function(){

		var data = $.toJSON(flowtraceRequest);

		alert(data); 
		$.ajax(
			{
			
				type:'POST',
				url:'/EnterpriseServer/RS/tasks',
				dataType:'json',
				data:data,
			
				success:function(response,status,xhr){
					alert("成功啦");
				
				$("#json").html($.toJSON(response));
				},
				error:function(xhr,errorText,errorStatus){
				
				alert(xhr.status+errorText+xhr.statusText);
				}
			}

			);


		});


	});

	</script>
 </head>
 <body>
	<form>
	<input id="pendingList" type="button" value="pendingList"/>
    <input id="detail" type="button" value="detail"/>
    <input id="submit" type="button" value="submit"/>
    <input id="retake" type="button" value="retake"/>
    <input id="rollback" type="button" value="rollback"/>
    <input id="flowTrace" type="button" value="flowTrace"/>
    
	</form>
  <div id="json" >dd</div>
 </body>
</html>
